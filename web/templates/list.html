{{define "content"}}
<div class="screen list-screen">
    <header class="header">
<!--        <button>üîç</button>-->
<!--        <button>‚ñΩ</button>-->
    </header>

    <section class="expenses">
        <section class="summary">
            <small>Spent this month</small>
            <div class="total"><span class="currency">‚Ç¨</span>{{printf "%.2f" .Total}}</div>
        </section>

        {{range .Groups}}
        <div class="group">
            <div class="group-header">
                <span>{{.Title}}</span>
                <span>-‚Ç¨{{printf "%.2f" .Total}}</span>
            </div>
            {{range .Items}}
            <article class="expense-item" 
                     data-id="{{.ID}}"
                     data-amount="{{.Amount}}"
                     data-description="{{.Description}}"
                     data-category="{{.Category}}"
                     data-datetime="{{.DateTime}}"
                     {{if .IsOtherUser}}style="background-color: floralwhite;"{{end}}
                     onclick="openEditModal(this.dataset.id, this.dataset.amount, this.dataset.description, this.dataset.category, this.dataset.datetime)">
                <div class="expense-info">
                    <div class="cat-icon" style="background-color: {{.CategoryStyle.Color}}">{{.CategoryStyle.Icon}}</div>
                    <div class="expense-details">
                        <strong>{{.Description}}</strong>
                        <small>{{.Time}}</small>
                    </div>
                </div>
                <span class="expense-amount{{if .IsIncome}} income{{end}}">
                    {{if .IsIncome}}+{{else}}-{{end}}‚Ç¨{{printf "%.2f" .Amount}}
                </span>
            </article>
            {{end}}
        </div>
        {{end}}
    </section>

    <nav class="fab-bar">
        <button class="active">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-list-icon lucide-list"><path d="M3 5h.01"/><path d="M3 12h.01"/><path d="M3 19h.01"/><path d="M8 5h13"/><path d="M8 12h13"/><path d="M8 19h13"/></svg>
        </button>
        <button class="fab-add" onclick="openCreateModal()">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-plus-icon lucide-plus"><path d="M5 12h14"/><path d="M12 5v14"/></svg>
        </button>
        <button hx-get="/statistics?view=month" hx-target="#content" hx-push-url="true">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chart-no-axes-combined-icon lucide-chart-no-axes-combined"><path d="M12 16v5"/><path d="M16 14v7"/><path d="M20 10v11"/><path d="m22 3-8.646 8.646a.5.5 0 0 1-.708 0L9.354 8.354a.5.5 0 0 0-.707 0L2 15"/><path d="M4 18v3"/><path d="M8 14v7"/></svg>
        </button>
    </nav>
</div>
{{end}}
